(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-494dc6c9"],{"2f21":function(t,e,n){"use strict";var o=n("79e5");t.exports=function(t,e){return!!t&&o((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},"55dd":function(t,e,n){"use strict";var o=n("5ca1"),i=n("d8e8"),a=n("4bf8"),r=n("79e5"),l=[].sort,s=[1,2,3];o(o.P+o.F*(r((function(){s.sort(void 0)}))||!r((function(){s.sort(null)}))||!n("2f21")(l)),"Array",{sort:function(t){return void 0===t?l.call(a(this)):l.call(a(this),i(t))}})},"7e43":function(t,e,n){t.exports={theme:"#27AAE7",themeHoverColor:"rgba(39,170,231,0.7)",themeActiveColor:"#27aae7",sideBarWidth:"180px",sideBarHeight:"48px",breadcrumbHeight:"48px",navBarHeight:"56px"}},"90fe":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Table",{attrs:{"table-config":t.tableConfig,"column-config":t.columnConfig,"get-list-params":t.getListParams,"table-date":t.list,table:this}})},i=[],a=n("b775");function r(t,e){return Object(a["a"])({url:t,method:"get",params:e})}var l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"my-plugin-table"},[t._t("my-search"),t._v(" "),n("div",{staticClass:"my-table-header"},[n("span",{staticClass:"my-table-header-left"},[t._v(t._s(t.tableConfig.title))]),t._v(" "),t.tableConfig.showHeaderOption?n("div",{staticClass:"my-table-header-right"},[t._l(t.headerOption,(function(e,o){return n("el-button",{key:o,attrs:{type:e.type,title:e.name,icon:e.icon},on:{click:function(n){return t._TableOptionBtn({option:e})}}},[t._v(t._s(e.name))])})),t._v(" "),n("el-button",{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],attrs:{title:"显隐列",icon:"el-icon-menu"}},[n("el-popover",{ref:"popover",attrs:{placement:"bottom",width:"200",trigger:"click","popper-class":"table-handle"}},t._l(t.columnConfig,(function(e,o){return n("el-checkbox",{key:o,attrs:{checked:e.isHide,name:e.prop},on:{change:function(n){return t._onIsCellHide(e)}}},[t._v(t._s(e.label))])})),1),t._v("\n        显隐列\n      ")],1)],2):t._e()]),t._v(" "),n("div",{staticClass:"table-content"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],class:t.isLoading?"is-loading":"",style:"width: "+t.tableConfig.tableWidth,attrs:{"element-loading-text":"加载中，请稍后...",height:"640",data:t.tableDate},on:{"sort-change":t._sortChange,"row-click":t._rowClick,"selection-change":t._tableChangeRows,"header-dragend":t._tableCellDragend}},[t.tableConfig.selectMore?n("el-table-column",{attrs:{type:"selection",align:"center",width:"50"}}):t._e(),t._v(" "),t.tableConfig.isIndexShow?n("el-table-column",{attrs:{label:"编号",type:"index",align:"center",width:"70",index:t._tableIndex}}):t._e(),t._v(" "),t._l(t.columnConfig,(function(e,o){return e.isHide?n("el-table-column",{key:o,attrs:{"header-align":"center",align:"center",sortable:e.isSortable,"show-overflow-tooltip":"",prop:e.prop,label:e.label,width:e.width},scopedSlots:t._u([{key:"default",fn:function(o){return["slot"===e.type?[t._t("col-"+e.slot,null,{row:o.row})]:e.children?t._l(e.children,(function(t,o){return n("el-table-column",{key:o,attrs:{prop:t.prop,label:t.label,align:"center",width:e.width,"min-width":e.minWidth||"85px"}})})):"tag"===e.type?n("el-tag",[t._v("\n            "+t._s(o.row[t.item.prop])+"\n          ")]):"image"===e.type&&o.row[e.prop]?n("img",{directives:[{name:"imgAlart",rawName:"v-imgAlart"}],attrs:{height:"50px",src:o.row[e.prop]}}):t._e(),t._v(" "),e.formatter&&e.click?n("div",{domProps:{innerHTML:t._s(e.formatter[o.row[e.prop]]?e.formatter[o.row[e.prop]].replace("${value}",o.row[e.prop]):o.row[e.prop])},on:{click:function(n){return n.stopPropagation(),t._onTableFmtClick({event:e.click,row:o.row})}}}):e.formatter?n("div",{domProps:{innerHTML:t._s(e.formatter[o.row[e.prop]]?e.formatter[o.row[e.prop]].replace("${value}",o.row[e.prop]):o.row[e.prop])}}):n("div",[t._v(t._s(o.row[e.prop]))])]}}],null,!0)}):t._e()})),t._v(" "),t.tableConfig.showTableOption?n("el-table-column",{attrs:{prop:"option",width:t.tableConfig.cellOptionWidth,"header-align":"center",align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._l(t.cellOption,(function(o,i){return[o.slot?t._t("bt-"+o.event,null,{data:{option:o,row:e.row}}):t._e(),t._v(" "),n("span",{key:i,class:o.icon,attrs:{title:o.name},on:{click:function(n){return n.stopPropagation(),t._TableOptionBtn({option:o,scope:e})}}},[t._v(t._s(o.name)+" ")])]}))]}}],null,!0)}):t._e()],2)],1),t._v(" "),(t.tableConfig.hasOwnProperty("showPagination")?t.tableConfig.showPagination:!t.tableConfig.showPagination)?n("el-pagination",{staticClass:"my-table-footer",attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper","current-page":t.tablePageConfig.page,"page-sizes":t.tablePageConfig.pageSize,"page-size":t.tablePageConfig.limit,total:t.tablePageConfig.count},on:{"size-change":t._tableSizeChange,"current-change":t._tableCurrentChange}}):t._e()],2)},s=[],c=(n("8e6e"),n("456d"),n("bd86")),u=(n("ac6a"),n("55dd"),n("9959"));function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(n,!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d={name:"Table",components:{},props:{table:{type:Object,default:function(){}},tableConfig:{type:Object,default:function(){return{title:"",showHeaderOption:!0,tableWidth:"100%",selectMore:!0,isIndexShow:!0,showTableOption:!0,cellOptionWidth:"200px",showPagination:!0,select:[]}}},headerOption:{type:Array,default:function(){return[]}},columnConfig:{type:Array,default:function(){return[]}},cellOption:{type:Array,default:function(){return[]}},tablePageConfig:{type:Object,default:function(){return{page:1,limit:10,pageSize:[0,1,2,3,4,5,10].map((function(t){return 10*t})),count:30}}},autoInit:{type:Boolean,default:!1},tableDate:{type:Array,default:function(){return[]}},getListParams:{type:Object,default:function(){}},sort:{type:Object,default:function(){return{sortName:"",sortType:"DESC"}}}},data:function(){return{isLoading:!0}},mounted:function(){this.autoInit?this.$emit("init-table",{}):this._initTable()},methods:{_initCellIsHide:function(){},_onTableFmtClick:function(t){this.Table[t.event]&&this.Table[t.event].call(this,t)},_TableOptionBtn:function(t){var e=this.tableConfig;void 0!==t.row&&e.select.push(t.row),t.select=e.select,this.Table[t.fun]&&this.Table[t.fun].call(this,t)},_sortChange:function(t){null!==t&&this.sort.custom&&(this.sort.sortName=t.prop,this.sort.sortType="descending"===t.order?"DESC":"ASC",this._initTable())},_rowClick:function(t){this.$emit("row-click",t)},_excuteTable:function(t,e){this.columnConfig.forEach((function(n){n.prop===t.prop&&(1===e?n.isHide=!t.isHide:n.width=t.width)}))},_onIsCellHide:function(t){this._excuteTable(t,1)},_tableCellDragend:function(t,e,n,o){this._excuteTable({prop:n.property,width:n.width},2)},_tableIndex:function(t){var e=this.tablePageConfig,n=e.page,o=e.limit;return(n-1)*o+t+1},_initTable:function(){var t=this.getListParams,e=this.tablePageConfig,n=f({},t,{},e);this.isLoading=!1,r("/table/list",n).then((function(t){t.data}))},_tableSizeChange:function(t){this.tablePageConfig.limit=t,this._initTable()},_tableCurrentChange:function(t){this.tablePageConfig.page=t,this._initTable()},_tableChangeRows:function(t){this.tableConfig.select=t},_tableSelectMore:function(){var t=this.tableConfig;if(t.select.length<1)return Object(u["c"])(this,"warning","请勾选需要操作的项"),!1;var e="";return this.table.select.map((function(t,n,o){e+=","+t.id})),e=e.substr(1),e}}},b=d,g=(n("bc75"),n("2877")),h=Object(g["a"])(b,l,s,!1,null,null,null),m=h.exports,w={filters:{statusFilter:function(t){var e={published:"success",draft:"gray",deleted:"danger"};return e[t]}},components:{Table:m},data:function(){return{list:null,listLoading:!0,tableConfig:{title:"测试标题",showHeaderOption:!0,tableWidth:"100%",selectMore:!0,isIndexShow:!0,showTableOption:!0,cellOptionWidth:"auto",showPagination:!0},columnConfig:[{label:"作者",prop:"author",width:"120px",isSortable:!1,isHide:!0,formatter:{1:"测试"}},{label:"时间",prop:"display_time",width:"120px",isSortable:!0,isHide:!0},{label:"ID",prop:"id",width:"120px",isSortable:!1,isHide:!0,formatter:{1:"测试"}},{label:"页面",prop:"pageviews",width:"120px",isSortable:!0,isHide:!0},{label:"状态",prop:"status",width:"120px",isSortable:!1,isHide:!0,formatter:{1:"测试"}},{label:"标题",prop:"title",width:"300px",isSortable:!0,isHide:!0},{label:"测试显隐1",prop:"test",width:"300px",isSortable:!0,isHide:!1},{label:"测试显隐2",prop:"test2",width:"300px",isSortable:!0,isHide:!1}],headerOption:[{name:"测试1",icon:"el-icon-download",type:"primary",isShow:!0,fun:"onHandleBtnEvent"},{name:"测试1",icon:"el-icon-download",type:"primary",isShow:!0,fun:"onHandleBtnEvent"},{name:"测试1",icon:"el-icon-download",type:"primary",isShow:!0,fun:"onHandleBtnEvent"}],getListParams:{}}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;this.listLoading=!0,r("/table/list").then((function(e){t.list=e.data.items,t.listLoading=!1}))}}},v=w,y=Object(g["a"])(v,o,i,!1,null,null,null);e["default"]=y.exports},9959:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return l})),n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return c}));n("8e6e");var o=n("bd86");n("ac6a"),n("456d");function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(n,!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var r=function(t,e,n,o,i,r,l){var s={that:t,type:e,message:n,linkUrl:o,center:i,iconClass:r,dangerouslyUseHTMLString:l,showClose:!0};if(o){var c=t.$createElement;s.showClose=!1,s.message=c("p",{class:"message-content"},[c("span",{class:"message-info"},n),c("a",{attrs:{href:"#".concat(o.url)},class:"".concat(s.showClose?"message-url":"message-url no-close")},o.description)])}s.dangerouslyUseHTMLString=o&&Object.keys(o).length>0,s.customClass="my-message-tips ".concat(e),t.$message(a({},s))},l=function(t,e,n,o,i,r,l){var s={that:t,title:e,message:n,type:o,iconClass:l};if((o||l)&&(s.customClass="has-icon"),i){var c=t.$createElement;s.dangerouslyUseHTMLString=!0,s.message=c("div",null,[c("p",null,n),c("div",{class:"notice-footer"},[c("el-button",{attrs:{type:"primary"},on:{click:function(){r()}}},"操作按钮")])]),s.duration=0}t.$notify(a({},s))},s=function(t,e,n,o,i,a){t.$confirm(n,e,{showCancelButton:!i,type:a||"success",customClass:a?"confirm-".concat(a):"confirm-success"}).then((function(){o()})).catch((function(){console.log("cancel")}))},c=function(t,e,n){t.$message({type:e,message:n,customClass:"auto-close-message",showClose:!1})}},bc75:function(t,e,n){"use strict";var o=n("7e43"),i=n.n(o);i.a}}]);